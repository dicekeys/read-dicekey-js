<html>
  <head>
    <!-- <script src="read-dicekey-js.js"></script> -->
    <!-- <script type="module" src="./test.js"></script> -->
    <script src="/dist/test.js">
    runTest();
// import {runTest} from "./dist/test.js"
// window.addEventListener("load", () => runTest());
// import DiceKeyImageProcessorModuleFn from "./read-dicekey-js.js";

// function constructDiceKeyImageProcessorAsync() {
//     return new Promise( (resolve, reject) => {
//         DiceKeyImageProcessorModuleFn().then( m => resolve(new m.DiceKeyImageProcessor()) )
//     });
// }

// async function runTest() {
//     const diceKeyImageProcessor = await constructDiceKeyImageProcessorAsync();
//     var image = document.getElementById("dicekey-img");
//     var canvas = document.createElement("canvas");
//     [canvas.width, canvas.height] = [image.width, image.height];
//     var ctx = canvas.getContext("2d");
//     ctx.drawImage(image, 0, 0);
//     var imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
//     const beforeMs = (new Date()).getTime();
//     const result = diceKeyImageProcessor.processJsImageData(canvas.width, canvas.height, imageData.data);
//     const afterMs = (new Date()).getTime();
//     if (result) {
//         const json = diceKeyImageProcessor.diceKeyReadJson();
//         console.log("Json", json);
//         console.log("Time in Ms", afterMs - beforeMs);
//     }
// }
// window.addEventListener("load", () => runTest());
    </script>
  </head>
    <body>
        <img
            id="dicekey-img"
            src="cpp/read-dicekey/tests/test-lib-read-keysqr/img/B23X21K21Y63F53I50O11H12J40M13G10P40C60S33U23A21W62L60V42D33T32Z61N13E33R63.jpg"
            <!-- src="image.jpg" -->
        />
        Hello
    </body>
</html>